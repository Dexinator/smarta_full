---
// Hero Section - Sección principal con navegación
import { Image } from 'astro:assets';
import heroImage1 from '../../assets/images/main_page/Sección arriba del todo (1).png';
import heroImage2 from '../../assets/images/main_page/Sección arriba del todo (2).png';
import heroImage3 from '../../assets/images/main_page/Sección arriba del todo (3).png';
import heroImage4 from '../../assets/images/main_page/Sección arriba del todo (4).png';

export interface Props {
  lang?: string;
}

const { lang = "es" } = Astro.props;
const heroImages = [heroImage1, heroImage2, heroImage3, heroImage4];

const content = {
  es: {
    title: "Descubre Santa Marta",
    subtitle: "",
    description: "Explora arte urbano, naturaleza, aventuras y experiencias únicas",
    scrollText: "Desliza para explorar",
    buttons: {
      tourism: "¿Qué visitar?",
      audioguides: "Audioguías",
      adventures: "Aventuras"
    }
  },
  en: {
    title: "Discover Santa Marta",
    subtitle: "Your smart tourism destination",
    description: "Explore urban art, nature, adventures and unique experiences for the whole family",
    scrollText: "Scroll to explore",
    buttons: {
      tourism: "Tourist Information",
      audioguides: "Audio Guides",
      adventures: "Adventures"
    }
  }
};

const t = content[lang as keyof typeof content];
---

<section
  id="hero"
  class="relative min-h-screen flex flex-col justify-center items-center bg-gradient-to-br from-SM-blue via-blue-600 to-blue-800 overflow-hidden"
>
  <!-- Imagen de fondo con overlay y carrusel -->
  <div class="absolute inset-0 z-0">
    <!-- Carrusel de imágenes -->
    <div class="hero-carousel absolute inset-0">
      <div class="hero-slide active">
        <Image
          src={heroImage1}
          alt="Santa Marta de Tormes"
          loading="eager"
          quality={90}
          widths={[640, 768, 1024, 1280, 1920]}
          sizes="100vw"
          fit="cover"
          position="center"
        />
      </div>
      <div class="hero-slide">
        <Image
          src={heroImage2}
          alt="Santa Marta de Tormes"
          loading="eager"
          quality={90}
          widths={[640, 768, 1024, 1280, 1920]}
          sizes="100vw"
          fit="cover"
          position="center"
        />
      </div>
      <div class="hero-slide">
        <Image
          src={heroImage3}
          alt="Santa Marta de Tormes"
          loading="eager"
          quality={90}
          widths={[640, 768, 1024, 1280, 1920]}
          sizes="100vw"
          fit="cover"
          position="center"
        />
      </div>
      <div class="hero-slide">
        <Image
          src={heroImage4}
          alt="Santa Marta de Tormes"
          loading="eager"
          quality={90}
          widths={[640, 768, 1024, 1280, 1920]}
          sizes="100vw"
          fit="cover"
          position="center"
        />
      </div>
    </div>
    <!-- Overlay encima de las imágenes -->
    <div class="absolute inset-0 bg-black/40 z-10"></div>
  </div>

  <!-- Contenido principal -->
  <div class="relative z-20 container mx-auto px-4 text-center text-white">
    <!-- Logo animado -->
    <div class="mb-8 animate-fade-in">
      <img
        src="/logo_santamarta.png"
        alt="Santa Marta de Tormes"
        class="h-24 md:h-32 mx-auto drop-shadow-2xl"
      />
    </div>

    <!-- Título principal -->
    <h1 class="text-5xl md:text-7xl font-bold mb-4 animate-slide-up">
      {t.title}
    </h1>

    <!-- Subtítulo -->
    <p class="text-xl md:text-2xl mb-4 font-light">
      {t.subtitle}
    </p>

    <!-- Descripción -->
    <p class="text-lg md:text-xl mb-12 max-w-2xl mx-auto opacity-90">
      {t.description}
    </p>

    <!-- Botones de navegación -->
    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 max-w-2xl mx-auto mb-12">
      <a
        href="#tourist-info"
        class="group relative overflow-hidden bg-white/20 backdrop-blur-md border-2 border-white/30 rounded-xl px-6 py-4 text-white font-semibold transition-all duration-300 hover:bg-white/30 hover:scale-105 hover:shadow-2xl"
      >
        <span class="relative z-10">{t.buttons.tourism}</span>
        <div class="absolute inset-0 bg-gradient-to-t from-SM-yellow/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
      </a>

      <a
        href="#audioguides"
        class="group relative overflow-hidden bg-white/20 backdrop-blur-md border-2 border-white/30 rounded-xl px-6 py-4 text-white font-semibold transition-all duration-300 hover:bg-white/30 hover:scale-105 hover:shadow-2xl"
      >
        <span class="relative z-10">{t.buttons.audioguides}</span>
        <div class="absolute inset-0 bg-gradient-to-t from-SM-yellow/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
      </a>

      <a
        href="#adventures"
        class="group relative overflow-hidden bg-white/20 backdrop-blur-md border-2 border-white/30 rounded-xl px-6 py-4 text-white font-semibold transition-all duration-300 hover:bg-white/30 hover:scale-105 hover:shadow-2xl"
      >
        <span class="relative z-10">{t.buttons.adventures}</span>
        <div class="absolute inset-0 bg-gradient-to-t from-SM-yellow/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
      </a>
    </div>
  </div>

  <!-- Indicador de scroll -->
  <div class="absolute bottom-8 left-1/2 transform -translate-x-1/2 text-white animate-bounce">
    <div class="flex flex-col items-center">
      <span class="text-sm mb-2 opacity-75">{t.scrollText}</span>
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3"></path>
      </svg>
    </div>
  </div>

  <!-- Elementos decorativos -->
  <div class="absolute top-0 left-0 w-64 h-64 bg-SM-yellow/10 rounded-full filter blur-3xl -translate-x-1/2 -translate-y-1/2"></div>
  <div class="absolute bottom-0 right-0 w-96 h-96 bg-SM-blue/20 rounded-full filter blur-3xl translate-x-1/2 translate-y-1/2"></div>
</section>

<style>
  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(-20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-up {
    from {
      opacity: 0;
      transform: translateY(40px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in {
    animation: fade-in 1s ease-out;
  }

  .animate-slide-up {
    animation: slide-up 1s ease-out 0.2s both;
  }

  /* Estilos para el carrusel de hero */
  .hero-carousel {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .hero-slide {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0;
    transition: opacity 1.5s ease-in-out;
  }

  .hero-slide.active {
    opacity: 1;
  }

  .hero-slide img,
  .hero-slide picture,
  .hero-slide picture img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
</style>

<script>
  // Carrusel automático para hero
  document.addEventListener('DOMContentLoaded', () => {
    const slides = document.querySelectorAll('.hero-slide');
    let currentSlide = 0;

    function nextSlide() {
      // Ocultar slide actual
      slides[currentSlide].classList.remove('active');

      // Siguiente slide
      currentSlide = (currentSlide + 1) % slides.length;

      // Mostrar siguiente slide
      slides[currentSlide].classList.add('active');
    }

    // Cambiar imagen cada 5 segundos
    setInterval(nextSlide, 5000);
  });
</script>